# 业务架构
## 助学
主要是助学业务的架构
1. 客户端、H5、小程序端
2. 业务网关
3. 服务层
4. 中间层
    - Kafka
    - ES
    - 敏感词检测
5. 存储层面
    - Redis
    - MYSQL
    - MongoDB

## 圈子


# 一些常见的技巧：
- 对于高并发场景（考试参与人数的并发修改造成锁抢占），数据先不落库，先写入缓存，通过异步Task完成后续落库操作或者约定时间定期落库，准确性通过补偿校验保障（具体又是怎么做的？）
- 如何解决修改题目后重新计算分数导致的写扩散问题？（一道题目能关联多个考试，一场考试有多人参与，这就导致修改题目之后要修改的考试得分数据量较大，大顾客在修改其题目后，关联的分数无法及时变化，有30min到1h的延迟）
    1. 增加消费者数量分区，由一个调整为4个
    2. 修改消费脚本逻辑，增加批量、并发消费，每批100个，每次10个并发计算，预估延迟时间能减少到10s左右
- 由于基因法的分表规则和几个使用量较大的店铺存在，导致部分表数据分布极不均匀，慢SQL影响打卡系统稳定性（文档中还没有看到实际是怎么解决的，下面是DS的回答提取）
    1. 调整分表策略为更均匀的一致性哈希或者CRC32（调整后原来收影响的数据查询如何进行路由？）
    2. 迁移比较久远的历史数据到归档表，减少主表数据量（数据迁移需要注意些什么？）
- B端口打卡日记优先查询基础的ES服务，ES服务失败会走兜底查询DB
- 游标如何优化性能？具体怎么做？

当天工作：
1. 参加月会 
2. 熟悉业务平台的操作
3. 阅读文档，梳理打卡、考试、助学业务流程架构，学习了一些问题的解决方案

明天计划：
1. 继续阅读剩余文档，了解圈子业务流程架构
2. 写体验文档，熟悉某些业务的创建流程

遇到问题：
1. 变身和班车的概念
2. 体验方面：【系列课】->【课程目录】-> 已添加的小节虽然可以加入到后添加的章节中，但是需要通过【批量操作】->【批量移动】，个人认为相对繁琐，是否可以以（批量选择）拖动的形式移动较为符合直觉
3. 