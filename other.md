这是我的给你的日志信息：[{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153639-39rsEggWsqhuwmQ7E551p\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S4.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"3ac19cdd-20e0-492f-b4f1-2160b51365b8","pod_ip":"30.49.184.19","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-2","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-2","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331399","serverAddr":"30.49.184.19","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"27254","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_4","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153639-hMjCRl4QJecdTq6tZzr6p\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"SA2.2XLARGE16","pod_label_qcloud-app":"config-api-gz-4","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-4-6d58646fb7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-4","pod_uid":"98398a7d-bc03-4a44-9c10-3ebed2d73fa4","pod_ip":"21.10.174.2","pod_label_clusterId":"cls-pm40lmeq","pod_label_tkex-workload-name":"config-api-gz-4","pod_name":"config-api-gz-4-2","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-pm40lmeq","pod_label_env":"production","container_name":"config-api-gz-4","pod_label_cloud-tencent-com/pool":"qcloud","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-4-2","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331399","serverAddr":"21.10.174.2","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"6292","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-STjKSMLDdFjVFOPzLEhFy\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S3.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"d5732f41-9747-4821-8b93-4194a20a1c98","pod_ip":"30.45.9.108","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-3","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-3","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"30.45.9.108","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"25388","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-LWkfH3CRdy4EYTzjSar8t\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S3.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"d5732f41-9747-4821-8b93-4194a20a1c98","pod_ip":"30.45.9.108","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-3","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-3","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"30.45.9.108","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"26855","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-8YLsV9psS7c2V4ETgm0pO\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-wELDMsHCKuX21LgzMT7X\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S3.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"d5732f41-9747-4821-8b93-4194a20a1c98","pod_ip":"30.45.9.108","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-3","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-3","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"30.45.9.108","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"22491","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-6djBeXqQe3950bjyGwMu0\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-wELDMsHCKuX21LgzMT7X\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S3.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"d5732f41-9747-4821-8b93-4194a20a1c98","pod_ip":"30.45.9.108","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-3","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-3","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"30.45.9.108","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"19566","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-3yyvAN5PXDD6AeJmqo5tN\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S3.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"89e5ced1-9386-4ae9-b850-d452245bf7cb","pod_ip":"30.49.108.27","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-1","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud_ziyan_eks","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-1","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"30.49.108.27","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"27926","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_4","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-5zYS4r9C0KVVUKWwPfaHI\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"SA2.2XLARGE16","pod_label_qcloud-app":"config-api-gz-4","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-4-6d58646fb7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-4","pod_uid":"08edb96b-1b38-4d31-b781-d11d2e8ea074","pod_ip":"21.18.97.109","pod_label_clusterId":"cls-pm40lmeq","pod_label_tkex-workload-name":"config-api-gz-4","pod_name":"config-api-gz-4-3","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-pm40lmeq","pod_label_env":"production","container_name":"config-api-gz-4","pod_label_cloud-tencent-com/pool":"qcloud","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-4-3","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"21.18.97.109","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"6006","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-UJwGzNm19F9fIE9NFUM1a\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S3.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"51529128-a708-459b-b7c4-4ccf079c328b","pod_ip":"9.148.247.252","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-0","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud_ziyan_eks","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-0","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"9.148.247.252","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"26431","reporterType":"0"},{"eventId":"0","iTraceId":"","module":"CONFIG_API_GZ_3","requestPkg":"{\"action\":\"DescribeConfigRule\",\"region\":\"\",\"token\":\"\",\"version\":\"\",\"requestId\":\"20250527153638-hX5GdA1MEhwVBOUH3ZM2k\",\"appId\":\"0\",\"uin\":\"100019718816\",\"subAccountUin\":\"\",\"clientIp\":\"\",\"camContext\":\"\",\"ruleId\":\"cr-66jqHZInKjYVhS6arKVP\"}","__TAG__":{"pod_label_cloud-tencent-com/instance-type":"S3.2XLARGE16","pod_label_qcloud-app":"config-api-gz-3","pod_label_tkex-workload-kind":"statefulsetplus","pod_label_controller-revision-hash":"config-api-gz-3-859c446df7","pod_label_cloud-tencent-com/asset-code":"","pod_label_k8s-app":"config-api-gz-3","pod_uid":"51529128-a708-459b-b7c4-4ccf079c328b","pod_ip":"9.148.247.252","pod_label_clusterId":"cls-4g9b5b18","pod_label_tkex-workload-name":"config-api-gz-3","pod_name":"config-api-gz-3-0","pod_label_tkex-projectName":"prj7849s","image_name":"csighub.tencentyun.com/tencent-cloud-platform/config_api:release_zefinnhao_20250410_173839","cluster_id":"cls-4g9b5b18","pod_label_env":"production","container_name":"config-api-gz-3","pod_label_cloud-tencent-com/pool":"qcloud_ziyan_eks","pod_label_moduleFourId":"2897822","namespace":"ns-prj7849s-2897822-production","pod_label_statefulsetplus-kubernetes-io/pod-name":"config-api-gz-3-0","pod_label_region":"ap-guangzhou","pod_label_workload-kind":"statefulsetplus","pod_label_projectName":"prj7849s"},"returnCode":"0","caller":"config_rule_engine","returnMsg":"ok","responsePkg":"","unixtimestamp":"1748331398","serverAddr":"9.148.247.252","service":"config_api","clientIp":"30.167.66.50","action":"/DescribeConfigRule","uin":"","timeCost":"27679","reporterType":"0"}]


curl 'https://simqry2.eastmoney.com/qry_tzzh_v2?type=spo_rank_syl&plat=2&ver=web20&utToken=&ctToken=&sylType=10001&recIdx=1&recCnt=250&cb=jQuery112304628108748133831_1748348052065&_=1748348052066' \
  -H 'Accept: */*' \
  -H 'Accept-Language: zh-CN,zh;q=0.9,en;q=0.8' \
  -H 'Connection: keep-alive' \
  -b 'qgqp_b_id=c1b5f818e1b7bb024cbe5457f6f1ea69; st_si=08770639335019; HAList=ty-0-300255-%u5E38%u5C71%u836F%u4E1A; fullscreengg=1; fullscreengg2=1; st_pvi=05347401450250; st_sp=2025-05-27%2019%3A36%3A52; st_inirUrl=https%3A%2F%2Fquote.eastmoney.com%2Fredirect.html; st_sn=1; st_psi=20250527193651805-113200301201-1505707756; st_asi=delete' \
  -H 'Referer: https://group.eastmoney.com/mcombin,10001.html' \
  -H 'Sec-Fetch-Dest: script' \
  -H 'Sec-Fetch-Mode: no-cors' \
  -H 'Sec-Fetch-Site: same-site' \
  -H 'User-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36' \
  -H 'sec-ch-ua: "Chromium";v="136", "Google Chrome";v="136", "Not.A/Brand";v="99"' \
  -H 'sec-ch-ua-mobile: ?0' \
  -H 'sec-ch-ua-platform: "macOS"'

-- 全量三表关联
SELECT 
    d.service AS 接口服务,
    d.action AS 接口名,
    JSON_ARRAYAGG(
        JSON_OBJECT(
            'name', p.para_name,
            'type', p.param_type,
            'description', IFNULL(p.description, ''),
            'example', IFNULL(p.example_value, ''),
            'is_sensitive', p.is_sensitive
        )
    ) AS 接口参数,
    d.interface_desc AS 接口描述
FROM 
    api_interface_doc_distinct d
LEFT JOIN 
    api_response_params p ON d.id = p.interface_id
GROUP BY 
    d.id, d.service, d.action, d.interface_desc
ORDER BY 
    d.action asc
LIMIT 0, 500;

SELECT 
    d.service AS 接口服务,
    d.action AS 接口名,
    JSON_ARRAYAGG(
        JSON_OBJECT(
            'name', p.para_name,
            'type', p.param_type,
            'description', IFNULL(p.description, ''),
            'example', IFNULL(p.example_value, ''),
            'is_sensitive', p.is_sensitive
        )
    ) AS 接口参数,
    d.interface_desc AS 接口描述
FROM 
    api_interface_doc_distinct d
LEFT JOIN 
    api_response_params p ON d.id = p.interface_id
GROUP BY 
    d.id, d.service, d.action, d.interface_desc
ORDER BY 
    d.action asc
LIMIT 500, 500;

SELECT 
    d.service AS 接口服务,
    d.action AS 接口名,
    JSON_ARRAYAGG(
        JSON_OBJECT(
            'name', p.para_name,
            'type', p.param_type,
            'description', IFNULL(p.description, ''),
            'example', IFNULL(p.example_value, ''),
            'is_sensitive', p.is_sensitive
        )
    ) AS 接口参数,
    d.interface_desc AS 接口描述
FROM 
    api_interface_doc_distinct d
LEFT JOIN 
    api_response_params p ON d.id = p.interface_id
GROUP BY 
    d.id, d.service, d.action, d.interface_desc
ORDER BY 
    d.action asc
LIMIT 1000, 500;

SELECT 
    d.service AS 接口服务,
    d.action AS 接口名,
    JSON_ARRAYAGG(
        JSON_OBJECT(
            'name', p.para_name,
            'type', p.param_type,
            'description', IFNULL(p.description, ''),
            'example', IFNULL(p.example_value, ''),
            'is_sensitive', p.is_sensitive
        )
    ) AS 接口参数,
    d.interface_desc AS 接口描述
FROM 
    api_interface_doc_distinct d
LEFT JOIN 
    api_response_params p ON d.id = p.interface_id
GROUP BY 
    d.id, d.service, d.action, d.interface_desc
ORDER BY 
    d.action asc
LIMIT 1500, 500;

-- 敏感三表关联
SELECT 
    d.service AS 接口服务,
    d.action AS 接口名,
    JSON_ARRAYAGG(
        JSON_OBJECT(
            'name', p.para_name,
            'type', p.param_type,
            'description', IFNULL(p.description, ''),
            'example', IFNULL(p.example_value, ''),
            'is_sensitive', p.is_sensitive
        )
    ) AS 接口参数,
    d.interface_desc AS 接口描述,
    r.reason AS 敏感原因,
    r.sensitive_type AS 敏感类型,
    r.related_tables AS 关联表,
    r.confirmed AS 是否已确认
FROM 
    api_interface_doc_distinct d
INNER JOIN 
    interface_risk_sensitive_doc_v2 r ON d.action = r.interface
LEFT JOIN 
    api_response_params p ON d.id = p.interface_id
WHERE 
    r.is_sensitive = 1
GROUP BY 
    d.id, d.service, d.action, d.interface_desc,
    r.reason, r.sensitive_type, r.related_tables, r.confirmed
ORDER BY 
    r.confirmed ASC, d.id DESC
LIMIT 0,500;

SELECT 
    d.service AS 接口服务,
    d.action AS 接口名,
    JSON_ARRAYAGG(
        JSON_OBJECT(
            'name', p.para_name,
            'type', p.param_type,
            'description', IFNULL(p.description, ''),
            'example', IFNULL(p.example_value, ''),
            'is_sensitive', p.is_sensitive
        )
    ) AS 接口参数,
    d.interface_desc AS 接口描述,
    r.reason AS 敏感原因,
    r.sensitive_type AS 敏感类型,
    r.related_tables AS 关联表,
    r.confirmed AS 是否已确认
FROM 
    api_interface_doc_distinct d
INNER JOIN 
    interface_risk_sensitive_doc_v2 r ON d.action = r.interface
LEFT JOIN 
    api_response_params p ON d.id = p.interface_id
WHERE 
    r.is_sensitive = 1
GROUP BY 
    d.id, d.service, d.action, d.interface_desc,
    r.reason, r.sensitive_type, r.related_tables, r.confirmed
ORDER BY 
    r.confirmed ASC, d.id DESC
LIMIT 500,500;

-- 高危三表关联
SELECT 
    d.service AS 接口服务,
    d.action AS 接口名,
    JSON_ARRAYAGG(
        JSON_OBJECT(
            'name', p.para_name,
            'type', p.param_type,
            'description', IFNULL(p.description, ''),
            'is_sensitive', p.is_sensitive
        )
    ) AS 接口参数,
    d.interface_desc AS 接口描述,
    r.reason AS 高危原因,
    r.risk_type AS 高危类型,
    r.related_tables AS 关联表
FROM 
    api_interface_doc_distinct d
LEFT JOIN 
    api_response_params p ON d.id = p.interface_id
JOIN 
    interface_risk_sensitive_doc_v2 r ON d.action = r.interface
WHERE 
    r.is_high_risk = 1
GROUP BY 
    d.id, d.service, d.action, d.interface_desc,
    r.reason, r.risk_type, r.related_tables
LIMIT 500;





----- 


SELECT
    COUNT(1) AS total,
    SUM(CASE WHEN is_high_risk = 1 THEN 1 ELSE 0 END) AS risk_count,
    COUNT(1) - SUM(CASE WHEN is_high_risk = 1 THEN 1 ELSE 0 END) AS risk_difference,
    SUM(CASE WHEN is_sensitive = 1 THEN 1 ELSE 0 END) AS sensitive_count,
    COUNT(1) - SUM(CASE WHEN is_sensitive = 1 THEN 1 ELSE 0 END) AS sensitive_difference
FROM interface_risk_sensitive_doc_v2 LIMIT 1;

SELECT COUNT(1) from interface_risk_sensitive_doc_distinct where is_high_risk = 1 LIMIT 1;

SELECT * from interface_risk_sensitive_doc_v2 where is_sensitive = 1 order by create_time limit 250;

SELECT * from interface_risk_sensitive_doc_v2 where is_high_risk = 1 ORDER BY create_time desc LIMIT 200 ;

some ques:
1. 接口表，根据condition筛选出符合的接口
  - 接口表去哪里获得
  - condition规则
    - 
2. 去TDW拿这些接口的日志，需要的字段有clientIp，requestPkg，interfaceName
3. 每个记录十条，写入数据库
4. 导出一份excel文档

SELECT uin,
       cientip,
       product,
       interface,
       code,
       timecost,
       get_json_object(response, '$.data.ownerUin') AS owinerUin,
       get_json_object(request, '$.interface.para.auth_token') AS auth_token,
       request,
       response,
       token,
       from_unixtime(logtime) as log_at
FROM csig_cam::sig_auth_comm_log
WHERE
    tdbank_imp_date = '${YYYYMMDDHH}'
  AND get_json_object(request, '$.interface.interfaceName') = 'logic.cam.checkResource'
  AND get_json_object(response, '$.data.ownerUin') = '1977869558' 
  AND get_json_object(concat('{\"arr\":', token, '}'), '$.arr[0].hasPolicyFilter') = 1
  AND (get_json_object(get_json_object(CONCAT('{\"arr\":', token, '}'), '$.arr[0].extraInfo'), '$.tokenType') is NULL
   or get_json_object(get_json_object(CONCAT('{\"arr\":', token, '}'), '$.arr[0].extraInfo'), '$.tokenType') != 9)
  AND (get_json_object(get_json_object(CONCAT('{\"arr\":', token, '}'), '$.arr[0].extraInfo'), '$.thOwnerUin') is NULL
   OR get_json_object(get_json_object(CONCAT('{\"arr\":', token, '}'), '$.arr[0].extraInfo'), '$.thOwnerUin') = '')



